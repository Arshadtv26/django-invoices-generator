{% load static %}
{% block content %}
<link rel= "stylesheet" type= "text/css" href= "{% static 'invoices/css/render_invoice_pdf_styles.css' %}">
<header>

  <div class="invoice-info header-item">
    <h2 class="title left-margin">FACTURA</h2>
    <div class="invoice-info-detail small-margins left-margin">
      <h3>Número:</h3>
      <p>{{invoice.number}}</p>
      <div class="break"></div> <!-- break -->
      <h3>Fecha:</h3>
      <p>{{invoice.date|date:"d/m/Y"}}</p>
    </div>
  </div>

  <div class="logo header-item">
    <!-- <img
  TODO PUT IMAGE OF Company -->
  </div>
  <div class="company-data header-item">
    <p>{{invoice.company.name|upper}}</p>
    <p>{{invoice.company.address|upper}}</p>
    <p>{{invoice.company.zip_code}} {{invoice.company.city|upper}} - {{invoice.company.state|upper}}</p>
    <p>CIF &emsp; {{invoice.company.identification_number}}</p>
  </div>

</header>
<main>
  <div class="content-box client-data">
    <div class="invoice-info-detail item small-margins left-margin">
      <h3>Cliente:</h3>

      <p>{{invoice.client.name|upper}}</p>
    </div>
    <div class="invoice-info-detail item small-margins left-margin">
      <h3>Domicilio:</h3>
      <p>{{invoice.client.address|upper}}, {{invoice.client.zip_code}}, {{invoice.client.city|upper}}</p>
    </div>
    <div class="invoice-info-detail item small-margins left-margin">
      <h3>C.I.F:</h3>
      <p>{{invoice.client.identification_number}}</p>
    </div>
  </div>

  <div class="container-table-products">
    <table id="products" align="center">
      <thead>
          <tr class="no-border"></tr>
          <tr>
              <th>Concepto</th>
              <th>Concepto</th>
              <th>Concepto</th>
              <th>Concepto</th>
              <th>Concepto</th>
          </tr>
        </thead>
        <tbody>
          {% for product in products%}
          <tr>
            <td>{{product.name|upper}}</td>
            <td></td>
            <td>{{product.quantity}}</td>
            <td>{{product.price}} €</td>
            <td class="last-column-bold">{{product.total}} €</td>
          </tr>
          {%endfor%}
          {% for i in empty_rows %}
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td class="last-column-bold">- €</td>
          </tr>
          {% endfor %}
          <tr class="no-border"></tr>
          <tr>
            <td class="no-border"></td>
            <td class="no-border"></td>
            <td class="left-bold-border top-bold-border" colspan="2">Total</td>
            <td class="last-column top-bold-border">{{invoice.total_products}} €</td>
          </tr>
          <tr>
            <td class="no-border"></td>
            <td class="no-border"></td>
            <td class="left-bold-border" colspan="2">Descuento {{invoice.invoice_settings.discount}}%</td>
            <td class="last-column">{{invoice.total_discount}} €</td>
          </tr>
          <tr>
            <td class="no-border"></td>
            <td class="no-border"></td>
            <td class="left-bold-border" colspan="2">Base imponible</td>
            <td class="last-column">{{invoice.total_base}} €</td>
          </tr>
          <tr>
            <td class="no-border"></td>
            <td class="no-border"></td>
            <td class="left-bold-border" colspan="2">I.V.A {{invoice.invoice_settings.tax}}%</td>
            <td class="last-column">{{invoice.total_tax}} €</td>
          </tr>
          <tr>
            <td class="no-border"></td>
            <td class="no-border"></td>
            <td class="left-bold-border" colspan="2">Total factura</td>
            <td class="last-column-bold">{{invoice.total}} €</td>
          </tr>
        </tbody>
    </table>
  </div>
  <div class="content-box payment-data">
  <div class="payment-info-detail item small-margins">
  <h3>Forma de pago:</h3>
  <p>TRANSFERENCIA BANCARIA<br>&emsp;&emsp; IBAN: {{invoice.company.bank_account_number}}</p>
  </div>
  </div>
  </main>
  <footer>
  <p>RM BARCELONA</p>
  <p>Folio 113</p>
  <p>Hoja 469357</p>
  <p>Inscripción 1</p>
  </footer>

{% endblock %}
