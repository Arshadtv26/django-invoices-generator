{% extends 'invoices/base.html' %}
{% load static %}
{% block main %}
<form action="" method="POST">
    {% csrf_token %}
<div class="row">
    <div class="col-1 order-2">
<nav class="nav justify-content-end mt-2">
    <a class="btn btn-outline-primary m-1" role="button" href="{% url 'add_invoice' %}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
        </svg>
    </a>
    <button type="submit" class="btn btn-outline-primary m-1" value="Submit">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">
        <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"/>
        </svg>
    </button>
    <button type="submit" class="btn btn-outline-primary m-1" value="Submit">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer" viewBox="0 0 16 16">
        <path d="M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"/>
        <path d="M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"/>
        </svg>
    </button>
</nav>
</div>
<div class="col-10 offset-1 order 1">


<table class="table">
<thead>
    <tr>
        <th scope="col" class="p-4 align-middle">   
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-check-square" viewBox="0 0 16 16">
                <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                <path d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"/>
              </svg>
        </th>
        <th scope="col" class="p-4 align-middle">
            Number
        </th>
        <th scope="col" class="p-4 align-middle">
            Date
        </th>
        <th scope="col" class="p-4 align-middle">
            Mail
        </th>
        <th scope="col" class="p-4 align-middle">
            Client
        </th>
        <th scope="col" class="p-4 align-middle ">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
            </svg>
            
        </th>
    </tr>
</thead>
<tbody>
    {% if invoices_list %}
    {% for invoice in invoices_list %}
    <tr class="bg-white">
        <td class="pl-2 p-4 align-middle">
            <input type="checkbox" name="selected_options" value="{{invoice.id}}">
        </td>
        <td class="p-4 align-middle">
            <a href="{% url 'make_invoice' invoice.id %}">{{invoice.sequence_number}}</a>
        </td>
        <td class="p-4 align-middle">
            {{invoice.issued_date|date:"j/m/Y"}}
        </td>
        <td class="p-4 align-middle">
            {% if invoice.mail_info.status == 'Delivered' %}
            <span class="badge rounded-pill bg-success">Sent</span>
            {% elif invoice.mail_info.status == 'Pending' %}
            <span class="badge rounded-pill bg-warning">Pending</span>
            {% elif invoice.mail_info.status == 'Failed' %}
            <span class="badge rounded-pill bg-danger">Failed</span>
            {% endif %}
        </td>
        <td class="p-4 align-middle">
            {{invoice.customer}}          
        </td>
        <td class="p-4 align-middle ">
            {% if invoice.pdf_document %}
                <a href="{{invoice.pdf_document.url}}" target="_blank"><img width="24" height="24" src="{% static 'invoices/images/pdf-icon.png' %}" alt="pdf-icon" /></a>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
    {%else%}
    <tr><td colspan="6">No invoices available yet...</td></tr>
    {%endif%}
</tbody>
</table>
</form>
</div>
</div>
{% endblock %}
    


